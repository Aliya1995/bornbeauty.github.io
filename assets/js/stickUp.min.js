jQuery(function($){
	$(document).ready(function(){
		
		var lastScrollTop = 0;
		var scrollDir = '';
		var itemClass = '';
		var itemHover = '';
		var menuSize = null;
		var stickyHeight = 0;
		var stickyMarginB = 0;
		var currentMarginT = 0;
		var topMargin = 0;
		
		$(window).scroll(function(event){
			var st = $(this).scrollTop();
			if (st > lastScrollTop){scrollDir = 'down';} 
			else {scrollDir = 'up';}		
			lastScrollTop = st;
		});
			
		$.fn.stickUp = function( options ) {
			$(this).addClass('stuckMenu');			
			stickyHeight = parseInt($(this).height());
			stickyMarginB = parseInt($(this).css('margin-bottom'));			
			currentMarginT = parseInt($(this).next().closest('div').css('margin-top'));			
			vartop = parseInt($(this).offset().top);
		};
			
		$(document).on('scroll', function() {
			varscroll = parseInt($(document).scrollTop());
			if(vartop < varscroll + topMargin){
				$('.stuckMenu').addClass('isStuck');
				$('.stuckMenu').next().closest('div').css({'margin-top': stickyHeight + stickyMarginB + currentMarginT + 'px'}, 10);
				$('.stuckMenu').css("position","fixed");
				$('.isStuck').css({top: '0em'}, 10, function(){});
			};
			
			if(varscroll + topMargin < vartop){
				$('.stuckMenu').removeClass('isStuck');
				$('.stuckMenu').next().closest('div').css({'margin-top': currentMarginT + 'px'}, 10);
				$('.stuckMenu').css("position","relative");
			};
		});
	});
		
});
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			